<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>zju.date</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="canvas对象是HTML5的新特性，可利用JavaScript脚本在web页面上绘制图形、创建动画。 1&amp;lt;canvas id=&quot;canvas&quot; width=&quot;150&quot; height=&quot;150&quot;&amp;gt;&amp;lt;/canvas&amp;gt; 如果不指定宽高，则canvas默认300*150。JavaScript可以通过下面的代码获取画布： 1234567var canvas = document.g">
<meta name="keywords" content="JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="canvas学习笔记">
<meta property="og:url" content="https://zju.date/canvas-notes/index.html">
<meta property="og:site_name" content=".">
<meta property="og:description" content="canvas对象是HTML5的新特性，可利用JavaScript脚本在web页面上绘制图形、创建动画。 1&amp;lt;canvas id=&quot;canvas&quot; width=&quot;150&quot; height=&quot;150&quot;&amp;gt;&amp;lt;/canvas&amp;gt; 如果不指定宽高，则canvas默认300*150。JavaScript可以通过下面的代码获取画布： 1234567var canvas = document.g">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://img.react.ren/blog/canvas-default-grid.png">
<meta property="og:image" content="http://img.react.ren/blog/canvas_curves.png">
<meta property="og:image" content="http://img.react.ren/blog/canvas-grid.png">
<meta property="og:image" content="http://img.react.ren/blog/canvas_linecap.png">
<meta property="og:image" content="http://img.react.ren/blog/canvas_linejoin.png">
<meta property="og:updated_time" content="2017-08-16T02:25:40.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="canvas学习笔记">
<meta name="twitter:description" content="canvas对象是HTML5的新特性，可利用JavaScript脚本在web页面上绘制图形、创建动画。 1&amp;lt;canvas id=&quot;canvas&quot; width=&quot;150&quot; height=&quot;150&quot;&amp;gt;&amp;lt;/canvas&amp;gt; 如果不指定宽高，则canvas默认300*150。JavaScript可以通过下面的代码获取画布： 1234567var canvas = document.g">
<meta name="twitter:image" content="http://img.react.ren/blog/canvas-default-grid.png">
  
    <link rel="alternate" href="/atom.xml" title="." type="application/atom+xml">
  
  
    <link rel="icon" href="/css/images/banner.jpg">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">.</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
      </nav>
      <div id="search-form-wrap">
        
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-canvas-notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/canvas-notes/" class="article-date">
  <time datetime="2017-07-14T02:29:32.000Z" itemprop="datePublished">2017-07-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      canvas学习笔记
    </h1>
  

      </header>
    



    <div class="article-entry" itemprop="articleBody">
      
        <p><code>canvas</code>对象是HTML5的新特性，可利用JavaScript脚本在web页面上绘制图形、创建动画。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"150"</span> <span class="attr">height</span>=<span class="string">"150"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>如果不指定宽高，则<code>canvas</code>默认300*150。JavaScript可以通过下面的代码获取画布：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>);</span><br><span class="line"><span class="keyword">if</span> (canvas.getContext)&#123;</span><br><span class="line">  <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">  <span class="comment">// 2d画布已获取，可在此添加代码</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// 浏览器不支持canvas</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="画布坐标系统"><a href="#画布坐标系统" class="headerlink" title="画布坐标系统"></a>画布坐标系统</h2><p><img src="http://img.react.ren/blog/canvas-default-grid.png" alt="grid"></p>
<a id="more"></a>
<h2 id="绘制矩形"><a href="#绘制矩形" class="headerlink" title="绘制矩形"></a>绘制矩形</h2><ul>
<li><code>fillRect(x, y, width, height)</code>：绘制一个填充的矩形</li>
<li><code>strokeRect(x, y, width, height)</code>：绘制一个矩形的边框</li>
<li><code>clearRect(x, y, width, height)</code>：清除指定矩形区域，让清除部分完全透明。</li>
</ul>
<p>例如画三个嵌套的矩形：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ctx.fillRect(<span class="number">25</span>,<span class="number">25</span>,<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">ctx.clearRect(<span class="number">45</span>,<span class="number">45</span>,<span class="number">60</span>,<span class="number">60</span>);</span><br><span class="line">ctx.strokeRect(<span class="number">50</span>,<span class="number">50</span>,<span class="number">50</span>,<span class="number">50</span>);</span><br></pre></td></tr></table></figure>
<div><br><button id="rect-btn" onclick="toggle('rect')">显示</button><br><br><canvas id="rect" width="150" height="150" style="display:none"></canvas><br></div>


<h2 id="绘制直线"><a href="#绘制直线" class="headerlink" title="绘制直线"></a>绘制直线</h2><ul>
<li><code>beginPath()</code>：新建一条路径，生成之后，图形绘制命令被指向到路径上生成路径。</li>
<li><code>moveTo(x, y)</code>：将笔触移动到指定的坐标x以及y上。</li>
<li><code>lineTo(x, y)</code>：绘制一条从当前位置到指定x以及y位置的直线。</li>
<li><code>closePath()</code>：闭合路径之后图形绘制命令又重新指向到上下文中。</li>
<li><code>stroke()</code>：通过线条来绘制图形轮廓。</li>
<li><code>fill()</code>：通过填充路径的内容区域生成实心的图形。</li>
</ul>
<p>例如画一个三角形：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ctx.beginPath();</span><br><span class="line">ctx.moveTo(<span class="number">75</span>,<span class="number">50</span>);</span><br><span class="line">ctx.lineTo(<span class="number">100</span>,<span class="number">75</span>);</span><br><span class="line">ctx.lineTo(<span class="number">100</span>,<span class="number">25</span>);</span><br><span class="line">ctx.fill();</span><br></pre></td></tr></table></figure>
<div><br><button id="triangle-btn" onclick="toggle('triangle')">显示</button><br><br><canvas id="triangle" width="150" height="150" style="display:none"></canvas><br></div>

<h2 id="绘制圆弧"><a href="#绘制圆弧" class="headerlink" title="绘制圆弧"></a>绘制圆弧</h2><ul>
<li><code>arc(x, y, radius, startAngle, endAngle, anticlockwise)</code>：画一个以（x,y）为圆心的以radius为半径的圆弧（圆），从startAngle开始到endAngle结束，按照anticlockwise给定的方向（默认为顺时针）来生成。</li>
</ul>
<p>例如画一个笑脸：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ctx.beginPath();</span><br><span class="line">ctx.arc(<span class="number">75</span>,<span class="number">75</span>,<span class="number">50</span>,<span class="number">0</span>,<span class="built_in">Math</span>.PI*<span class="number">2</span>,<span class="literal">true</span>); <span class="comment">// 绘制</span></span><br><span class="line">ctx.moveTo(<span class="number">90</span>,<span class="number">90</span>)</span><br><span class="line">ctx.arc(<span class="number">75</span>,<span class="number">90</span>,<span class="number">15</span>,<span class="number">0</span>,<span class="built_in">Math</span>.PI,<span class="literal">false</span>);   <span class="comment">// 口(顺时针)</span></span><br><span class="line">ctx.moveTo(<span class="number">65</span>,<span class="number">65</span>);</span><br><span class="line">ctx.arc(<span class="number">60</span>,<span class="number">65</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="built_in">Math</span>.PI*<span class="number">2</span>,<span class="literal">true</span>);  <span class="comment">// 左眼</span></span><br><span class="line">ctx.moveTo(<span class="number">95</span>,<span class="number">65</span>);</span><br><span class="line">ctx.arc(<span class="number">90</span>,<span class="number">65</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="built_in">Math</span>.PI*<span class="number">2</span>,<span class="literal">true</span>);  <span class="comment">// 右眼</span></span><br><span class="line">ctx.stroke();</span><br></pre></td></tr></table></figure>
<div><br><button id="smile-btn" onclick="toggle('smile')">显示</button><br><br><canvas id="smile" width="150" height="150" style="display:none"></canvas><br></div>

<h2 id="绘制贝塞尔曲线"><a href="#绘制贝塞尔曲线" class="headerlink" title="绘制贝塞尔曲线"></a>绘制贝塞尔曲线</h2><ul>
<li><code>quadraticCurveTo(cp1x, cp1y, x, y)</code>：二次贝塞尔曲线，cp1x,cp1y为一个控制点，x,y为结束点。</li>
<li><code>bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)</code>：三次贝塞尔曲线，cp1x,cp1y为控制点一，cp2x,cp2y为控制点二，x,y为结束点。</li>
</ul>
<p><img src="http://img.react.ren/blog/canvas_curves.png" alt="curves"></p>
<p>给定一个初始位置（蓝色），二次贝塞尔曲线有一个控制点（红色）以及一个结束点（蓝色），而三次贝塞尔曲线有两个控制点（红色），一个结束点（蓝色）。</p>
<p>例如画一个对话气泡：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ctx.beginPath();</span><br><span class="line">ctx.moveTo(<span class="number">75</span>,<span class="number">25</span>);</span><br><span class="line">ctx.quadraticCurveTo(<span class="number">25</span>,<span class="number">25</span>,<span class="number">25</span>,<span class="number">62.5</span>);</span><br><span class="line">ctx.quadraticCurveTo(<span class="number">25</span>,<span class="number">100</span>,<span class="number">50</span>,<span class="number">100</span>);</span><br><span class="line">ctx.quadraticCurveTo(<span class="number">50</span>,<span class="number">120</span>,<span class="number">30</span>,<span class="number">125</span>);</span><br><span class="line">ctx.quadraticCurveTo(<span class="number">60</span>,<span class="number">120</span>,<span class="number">65</span>,<span class="number">100</span>);</span><br><span class="line">ctx.quadraticCurveTo(<span class="number">125</span>,<span class="number">100</span>,<span class="number">125</span>,<span class="number">62.5</span>);</span><br><span class="line">ctx.quadraticCurveTo(<span class="number">125</span>,<span class="number">25</span>,<span class="number">75</span>,<span class="number">25</span>);</span><br><span class="line">ctx.stroke();</span><br></pre></td></tr></table></figure>
<div><br><button id="curve-btn" onclick="toggle('curve')">显示</button><br><br><canvas id="curve" width="150" height="150" style="display:none"></canvas><br></div>

<p>还可以用三次贝塞尔曲线画一颗心：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ctx.beginPath();</span><br><span class="line">ctx.moveTo(75,40);</span><br><span class="line">ctx.bezierCurveTo(75,37,70,25,50,25);</span><br><span class="line">ctx.bezierCurveTo(20,25,20,62.5,20,62.5);</span><br><span class="line">ctx.bezierCurveTo(20,80,40,102,75,120);</span><br><span class="line">ctx.bezierCurveTo(110,102,130,80,130,62.5);</span><br><span class="line">ctx.bezierCurveTo(130,62.5,130,25,100,25);</span><br><span class="line">ctx.bezierCurveTo(85,25,75,37,75,40);</span><br><span class="line">ctx.fillStyle=&apos;red&apos;</span><br><span class="line">ctx.fill();</span><br></pre></td></tr></table></figure>
<div><br><button id="heart-btn" onclick="toggle('heart')">显示</button><br><br><canvas id="heart" width="150" height="150" style="display:none"></canvas><br></div>


<h2 id="添加色彩"><a href="#添加色彩" class="headerlink" title="添加色彩"></a>添加色彩</h2><ul>
<li><code>fillStyle = color</code>：设置图形的填充颜色。</li>
<li><code>strokeStyle = color</code>：设置图形轮廓的颜色。</li>
</ul>
<p>color 可以是表示 CSS 颜色值的字符串，渐变对象或者图案对象，例如下面都表示把颜色设置为橙色：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ctx.fillStyle = &quot;orange&quot;;</span><br><span class="line">ctx.fillStyle = &quot;#FFA500&quot;;</span><br><span class="line">ctx.fillStyle = &quot;rgb(255,165,0)&quot;;</span><br><span class="line">ctx.fillStyle = &quot;rgba(255,165,0,1)&quot;;</span><br></pre></td></tr></table></figure>
<p>既然是字符串，就可以自由的构造各种可能的色值了，例如画一个调色板：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;<span class="number">6</span>;j++)&#123;</span><br><span class="line">      ctx.fillStyle = <span class="string">'rgb('</span> + <span class="built_in">Math</span>.floor(<span class="number">255</span><span class="number">-42.5</span>*i) + <span class="string">','</span> +<span class="built_in">Math</span>.floor(<span class="number">255</span><span class="number">-42.5</span>*j) + <span class="string">',0)'</span>;</span><br><span class="line">      ctx.fillRect(j*<span class="number">25</span>,i*<span class="number">25</span>,<span class="number">25</span>,<span class="number">25</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div><br><button id="color-btn" onclick="toggle('color')">显示</button><br><br><canvas id="color" width="150" height="150" style="display:none"></canvas><br></div>

<h2 id="添加透明度"><a href="#添加透明度" class="headerlink" title="添加透明度"></a>添加透明度</h2><ul>
<li><code>globalAlpha = transparencyValue</code>：0表示完全透明，1表示完全不透明，默认是 1。</li>
</ul>
<p>例如在四色矩形框内画半透明的圆：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">ctx.fillStyle = <span class="string">'#FD0'</span>;</span><br><span class="line">ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">75</span>,<span class="number">75</span>);</span><br><span class="line">ctx.fillStyle = <span class="string">'#6C0'</span>;</span><br><span class="line">ctx.fillRect(<span class="number">75</span>,<span class="number">0</span>,<span class="number">75</span>,<span class="number">75</span>);</span><br><span class="line">ctx.fillStyle = <span class="string">'#09F'</span>;</span><br><span class="line">ctx.fillRect(<span class="number">0</span>,<span class="number">75</span>,<span class="number">75</span>,<span class="number">75</span>);</span><br><span class="line">ctx.fillStyle = <span class="string">'#F30'</span>;</span><br><span class="line">ctx.fillRect(<span class="number">75</span>,<span class="number">75</span>,<span class="number">75</span>,<span class="number">75</span>);</span><br><span class="line">ctx.fillStyle = <span class="string">'#FFF'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置透明度值</span></span><br><span class="line">ctx.globalAlpha = <span class="number">0.2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 画半透明圆</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">7</span>;i++)&#123;</span><br><span class="line">	ctx.beginPath();</span><br><span class="line">	ctx.arc(<span class="number">75</span>,<span class="number">75</span>,<span class="number">10</span>+<span class="number">10</span>*i,<span class="number">0</span>,<span class="built_in">Math</span>.PI*<span class="number">2</span>,<span class="literal">true</span>);</span><br><span class="line">	ctx.fill();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div><br><button id="transparency-btn" onclick="toggle('transparency')">显示</button><br><br><canvas id="transparency" width="150" height="150" style="display:none"></canvas><br></div>

<p>除了上述在全局设置透明度的方法外，还可以在画线或填充图案的时候指定透明度：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ctx.strokeStyle = <span class="string">"rgba(255,0,0,0.5)"</span>;</span><br><span class="line">ctx.fillStyle = <span class="string">"rgba(255,0,0,0.5)"</span>;</span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 画背景</span></span><br><span class="line">ctx.fillStyle = <span class="string">'rgb(255,221,0)'</span>;</span><br><span class="line">ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">150</span>,<span class="number">37.5</span>);</span><br><span class="line">ctx.fillStyle = <span class="string">'rgb(102,204,0)'</span>;</span><br><span class="line">ctx.fillRect(<span class="number">0</span>,<span class="number">37.5</span>,<span class="number">150</span>,<span class="number">37.5</span>);</span><br><span class="line">ctx.fillStyle = <span class="string">'rgb(0,153,255)'</span>;</span><br><span class="line">ctx.fillRect(<span class="number">0</span>,<span class="number">75</span>,<span class="number">150</span>,<span class="number">37.5</span>);</span><br><span class="line">ctx.fillStyle = <span class="string">'rgb(255,51,0)'</span>;</span><br><span class="line">ctx.fillRect(<span class="number">0</span>,<span class="number">112.5</span>,<span class="number">150</span>,<span class="number">37.5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 画半透明矩形</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">	ctx.fillStyle = <span class="string">'rgba(255,255,255,'</span>+(i+<span class="number">1</span>)/<span class="number">10</span>+<span class="string">')'</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;<span class="number">4</span>;j++)&#123;</span><br><span class="line">		ctx.fillRect(<span class="number">5</span>+i*<span class="number">14</span>,<span class="number">5</span>+j*<span class="number">37.5</span>,<span class="number">14</span>,<span class="number">27.5</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div><br><button id="rgba-btn" onclick="toggle('rgba')">显示</button><br><br><canvas id="rgba" width="150" height="150" style="display:none"></canvas><br></div>


<h2 id="设置线条样式"><a href="#设置线条样式" class="headerlink" title="设置线条样式"></a>设置线条样式</h2><ul>
<li><code>lineWidth = value</code>：设置线条宽度。</li>
<li><code>lineCap = type</code>：设置线条末端样式。</li>
<li><code>lineJoin = type</code>：设定线条与线条间接合处的样式。</li>
<li><code>miterLimit = value</code>：限制当两条线相交时交接处最大长度；所谓交接处长度（斜接长度）是指线条交接处内角顶点到外角顶点的长度。</li>
<li><code>getLineDash()</code>：返回一个包含当前虚线样式，长度为非负偶数的数组。</li>
<li><code>setLineDash(segments)</code>：设置当前虚线样式。</li>
<li><code>lineDashOffset = value</code>：设置虚线样式的起始偏移量。</li>
</ul>
<h3 id="线条宽度"><a href="#线条宽度" class="headerlink" title="线条宽度"></a>线条宽度</h3><p>线条宽度<code>lineWidth</code>最好理解，例如画多个宽度不同的线条：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">	ctx.lineWidth = <span class="number">1</span>+i;</span><br><span class="line">	ctx.beginPath();</span><br><span class="line">	ctx.moveTo(<span class="number">5</span>+i*<span class="number">14</span>,<span class="number">5</span>);</span><br><span class="line">	ctx.lineTo(<span class="number">5</span>+i*<span class="number">14</span>,<span class="number">140</span>);</span><br><span class="line">	ctx.stroke();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div><br><button id="lineWidth-btn" onclick="toggle('lineWidth')">显示</button><br><br><canvas id="lineWidth" width="150" height="150" style="display:none"></canvas><br></div>

<p>但是宽度为1像素的线条宽度并不一定就是1像素，这是为什么呢？请看下图：</p>
<p><img src="http://img.react.ren/blog/canvas-grid.png" alt="grid"></p>
<p>上面的网格中的每一格对应屏幕上一个像素点，如果绘制的区域边界刚好落在像素边缘上，这样就可以得到的矩形有着清晰的边缘，但如果边界不是像素边缘，情况就不一样了。</p>
<p>假如你想要绘制一条从 <code>(3,1)</code> 到 <code>(3,5)</code>，宽度是 1 的线条，你会得到像第二幅图一样的结果。实际填充区域（深蓝色部分）仅仅延伸至路径两旁各一半像素。而这半个像素又会以近似的方式进行渲染，这意味着那些像素只是部分着色，结果就是以实际笔触颜色一半色调的颜色来填充整个区域（浅蓝和深蓝的部分）。而第三幅图中绘制从 <code>(3.5,1)</code> 到 <code>(3.5,5)</code> 的线条，其边缘正好落在像素边界，填充出来就是准确的宽为 1 的线条。</p>
<h3 id="线段端点"><a href="#线段端点" class="headerlink" title="线段端点"></a>线段端点</h3><p>线段端点<code>lineCap</code>有三个取值：butt，round 和 square，默认是 butt。下图从左到右分别是butt, round和squre的效果：</p>
<p><img src="http://img.react.ren/blog/canvas_linecap.png" alt="linecap"></p>
<p>上面的图也可以直接用canvas画出来：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lineCap = [<span class="string">'butt'</span>,<span class="string">'round'</span>,<span class="string">'square'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建路径</span></span><br><span class="line">ctx.strokeStyle = <span class="string">'#09f'</span>;</span><br><span class="line">ctx.beginPath();</span><br><span class="line">ctx.moveTo(<span class="number">10</span>,<span class="number">10</span>);</span><br><span class="line">ctx.lineTo(<span class="number">140</span>,<span class="number">10</span>);</span><br><span class="line">ctx.moveTo(<span class="number">10</span>,<span class="number">140</span>);</span><br><span class="line">ctx.lineTo(<span class="number">140</span>,<span class="number">140</span>);</span><br><span class="line">ctx.stroke();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 画线条</span></span><br><span class="line">ctx.strokeStyle = <span class="string">'black'</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;lineCap.length;i++)&#123;</span><br><span class="line">	ctx.lineWidth = <span class="number">15</span>;</span><br><span class="line">	ctx.lineCap = lineCap[i];</span><br><span class="line">	ctx.beginPath();</span><br><span class="line">	ctx.moveTo(<span class="number">25</span>+i*<span class="number">50</span>,<span class="number">10</span>);</span><br><span class="line">	ctx.lineTo(<span class="number">25</span>+i*<span class="number">50</span>,<span class="number">140</span>);</span><br><span class="line">	ctx.stroke();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div><br><button id="lineCap-btn" onclick="toggle('lineCap')">显示</button><br><br><canvas id="lineCap" width="150" height="150" style="display:none"></canvas><br></div>


<h3 id="线段连接方式"><a href="#线段连接方式" class="headerlink" title="线段连接方式"></a>线段连接方式</h3><p>线段连接方式<code>lineJoin</code>可以是这三种之一：round, bevel 和 miter，默认是 miter。下图从上到下依次是round, bevel和miter</p>
<p><img src="http://img.react.ren/blog/canvas_linejoin.png" alt="linejoin"></p>
<p>round顾名思义是边角处被磨圆，圆的半径等于线宽；bevel是直接连接两个顶角，miter的时候，线段会在连接处外侧延伸直至交于一点。上图效果同样可以用canvas画出来：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lineJoin = [<span class="string">'round'</span>,<span class="string">'bevel'</span>,<span class="string">'miter'</span>];</span><br><span class="line">	ctx.lineWidth = <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;lineJoin.length;i++)&#123;</span><br><span class="line">	ctx.lineJoin = lineJoin[i];</span><br><span class="line">	ctx.beginPath();</span><br><span class="line">	ctx.moveTo(<span class="number">-5</span>,<span class="number">5</span>+i*<span class="number">40</span>);</span><br><span class="line">	ctx.lineTo(<span class="number">35</span>,<span class="number">45</span>+i*<span class="number">40</span>);</span><br><span class="line">	ctx.lineTo(<span class="number">75</span>,<span class="number">5</span>+i*<span class="number">40</span>);</span><br><span class="line">	ctx.lineTo(<span class="number">115</span>,<span class="number">45</span>+i*<span class="number">40</span>);</span><br><span class="line">	ctx.lineTo(<span class="number">155</span>,<span class="number">5</span>+i*<span class="number">40</span>);</span><br><span class="line">	ctx.stroke();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div><br><button id="lineJoin-btn" onclick="toggle('lineJoin')">显示</button><br><br><canvas id="lineJoin" width="150" height="150" style="display:none"></canvas><br></div>


<h2 id="使用虚线"><a href="#使用虚线" class="headerlink" title="使用虚线"></a>使用虚线</h2><p>虚线样式由setLineDash方法和lineDashOffset属性来制定：</p>
<ul>
<li><code>setLineDash</code>方法接受一个数组，来指定线段与间隙的交替</li>
<li><code>lineDashOffset</code> 属性设置起始偏移量</li>
</ul>
<p>下面是利用虚线创建的行军蚁的效果：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> offset = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ctx.clearRect(<span class="number">0</span>,<span class="number">0</span>, <span class="number">150</span>, <span class="number">150</span>);</span><br><span class="line">  ctx.setLineDash([<span class="number">4</span>, <span class="number">2</span>]);</span><br><span class="line">  ctx.lineDashOffset = -offset;</span><br><span class="line">  ctx.strokeRect(<span class="number">10</span>,<span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">march</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  offset++;</span><br><span class="line">  <span class="keyword">if</span> (offset &gt; <span class="number">16</span>) &#123;</span><br><span class="line">      offset = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  draw();</span><br><span class="line">  setTimeout(march, <span class="number">20</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">march();</span><br></pre></td></tr></table></figure>
<div><br><button id="dash-btn" onclick="toggle('dash')">显示</button><br><br><canvas id="dash" width="150" height="150" style="display:none"></canvas><br></div>


<h2 id="渐变"><a href="#渐变" class="headerlink" title="渐变"></a>渐变</h2><p>可以通过<code>canvasGradient</code>来创建渐变，分为线性渐变和径向渐变。</p>
<ul>
<li><code>createLinearGradient(x1, y1, x2, y2)</code>：渐变的起点 (x1,y1) 与终点 (x2,y2)。</li>
<li><code>createRadialGradient(x1, y1, r1, x2, y2, r2)</code>： (x1,y1) 为原点，半径为 r1 的圆， (x2,y2) 为原点，半径为 r2 的圆。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lineargradient = ctx.createLinearGradient(<span class="number">0</span>,<span class="number">0</span>,<span class="number">150</span>,<span class="number">150</span>);</span><br><span class="line"><span class="keyword">var</span> radialgradient = ctx.createRadialGradient(<span class="number">75</span>,<span class="number">75</span>,<span class="number">0</span>,<span class="number">75</span>,<span class="number">75</span>,<span class="number">100</span>);</span><br></pre></td></tr></table></figure>
<p>渐变创建完毕之后可以上色：</p>
<ul>
<li><code>gradient.addColorStop(position, color)</code>：position 参数表示渐变中颜色所在的相对位置，必须是一个 0.0 与 1.0 之间的数值。例如，0.5 表示颜色会出现在正中间。color 参数必须是一个有效的 CSS 颜色值，如 #FFF， rgba(0,0,0,1)。</li>
</ul>
<p>下面是一个线性渐变的效果：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建渐变并上色</span></span><br><span class="line"><span class="keyword">var</span> lingrad = ctx.createLinearGradient(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">150</span>);</span><br><span class="line">lingrad.addColorStop(<span class="number">0</span>, <span class="string">'#00ABEB'</span>);</span><br><span class="line">lingrad.addColorStop(<span class="number">0.5</span>, <span class="string">'#fff'</span>);</span><br><span class="line">lingrad.addColorStop(<span class="number">0.5</span>, <span class="string">'#26C000'</span>);</span><br><span class="line">lingrad.addColorStop(<span class="number">1</span>, <span class="string">'#fff'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> lingrad2 = ctx.createLinearGradient(<span class="number">0</span>,<span class="number">50</span>,<span class="number">0</span>,<span class="number">95</span>);</span><br><span class="line">lingrad2.addColorStop(<span class="number">0.5</span>, <span class="string">'#000'</span>);</span><br><span class="line">lingrad2.addColorStop(<span class="number">1</span>, <span class="string">'rgba(0,0,0,0)'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将线条和填充样式设置为刚才创建的渐变</span></span><br><span class="line">ctx.fillStyle = lingrad;</span><br><span class="line">ctx.strokeStyle = lingrad2;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// 画图</span></span><br><span class="line">ctx.fillRect(<span class="number">10</span>,<span class="number">10</span>,<span class="number">130</span>,<span class="number">130</span>);</span><br><span class="line">ctx.strokeRect(<span class="number">50</span>,<span class="number">50</span>,<span class="number">50</span>,<span class="number">50</span>);</span><br></pre></td></tr></table></figure>
<div><br><button id="linearGradient-btn" onclick="toggle('linearGradient')">显示</button><br><br><canvas id="linearGradient" width="150" height="150" style="display:none"></canvas><br></div>

<p>利用径向渐变还可以创建更酷炫的效果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">// 创建渐变</span><br><span class="line">var radgrad = ctx.createRadialGradient(45,45,10,52,50,30);</span><br><span class="line">radgrad.addColorStop(0, &apos;#A7D30C&apos;);</span><br><span class="line">radgrad.addColorStop(0.9, &apos;#019F62&apos;);</span><br><span class="line">radgrad.addColorStop(1, &apos;rgba(1,159,98,0)&apos;);</span><br><span class="line">  </span><br><span class="line">var radgrad2 = ctx.createRadialGradient(105,105,20,112,120,50);</span><br><span class="line">radgrad2.addColorStop(0, &apos;#FF5F98&apos;);</span><br><span class="line">radgrad2.addColorStop(0.75, &apos;#FF0188&apos;);</span><br><span class="line">radgrad2.addColorStop(1, &apos;rgba(255,1,136,0)&apos;);</span><br><span class="line"></span><br><span class="line">var radgrad3 = ctx.createRadialGradient(95,15,15,102,20,40);</span><br><span class="line">radgrad3.addColorStop(0, &apos;#00C9FF&apos;);</span><br><span class="line">radgrad3.addColorStop(0.8, &apos;#00B5E2&apos;);</span><br><span class="line">radgrad3.addColorStop(1, &apos;rgba(0,201,255,0)&apos;);</span><br><span class="line"></span><br><span class="line">var radgrad4 = ctx.createRadialGradient(0,150,50,0,140,90);</span><br><span class="line">radgrad4.addColorStop(0, &apos;#F4F201&apos;);</span><br><span class="line">radgrad4.addColorStop(0.8, &apos;#E4C700&apos;);</span><br><span class="line">radgrad4.addColorStop(1, &apos;rgba(228,199,0,0)&apos;);</span><br><span class="line">  </span><br><span class="line">// 画图形</span><br><span class="line">ctx.fillStyle = radgrad4;</span><br><span class="line">ctx.fillRect(0,0,150,150);</span><br><span class="line">ctx.fillStyle = radgrad3;</span><br><span class="line">ctx.fillRect(0,0,150,150);</span><br><span class="line">ctx.fillStyle = radgrad2;</span><br><span class="line">ctx.fillRect(0,0,150,150);</span><br><span class="line">ctx.fillStyle = radgrad;</span><br><span class="line">ctx.fillRect(0,0,150,150);</span><br></pre></td></tr></table></figure>
<div><br><button id="radialGradient-btn" onclick="toggle('radialGradient')">显示</button><br><br><canvas id="radialGradient" width="150" height="150" style="display:none"></canvas><br></div>

<h2 id="图案"><a href="#图案" class="headerlink" title="图案"></a>图案</h2><p>图案的应用跟渐变很类似的，创建出一个 pattern 之后，赋给 fillStyle 或 strokeStyle 属性即可。</p>
<ul>
<li>createPattern(image, type)：Image 可以是一个 Image 对象的引用，或者另一个 canvas 对象。Type 必须是下面的字符串值之一：repeat，repeat-x，repeat-y 和 no-repeat。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> img = <span class="keyword">new</span> Image();</span><br><span class="line">img.src = <span class="string">'http://img.react.ren/emoji/heart_eyes.png'</span>;</span><br><span class="line">img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="comment">// 创建图案</span></span><br><span class="line">	ctx.fillStyle = ctx.createPattern(img,<span class="string">'repeat'</span>);;</span><br><span class="line">	ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">150</span>,<span class="number">150</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div><br><button id="pattern-btn" onclick="toggle('pattern')">显示</button><br><br><canvas id="pattern" width="150" height="150" style="display:none"></canvas><br></div>


<h2 id="阴影"><a href="#阴影" class="headerlink" title="阴影"></a>阴影</h2><p><code>shadowOffsetX/shadowOffsetY = float</code>：用来设定阴影在 X 和 Y 轴的延伸距离，它们是不受变换矩阵所影响的。负值表示阴影会往上或左延伸，正值则表示会往下或右延伸，它们默认都为 0。<br><code>shadowBlur = float</code>：用于设定阴影的模糊程度，其数值并不跟像素数量挂钩，也不受变换矩阵的影响，默认为 0。<br><code>shadowColor = color</code>：标准的 CSS 颜色值，用于设定阴影颜色效果，默认是全透明的黑色。</p>
<p>下面是阴影文字效果：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ctx.shadowOffsetX = <span class="number">2</span>;</span><br><span class="line">ctx.shadowOffsetY = <span class="number">2</span>;</span><br><span class="line">ctx.shadowBlur = <span class="number">2</span>;</span><br><span class="line">ctx.shadowColor = <span class="string">"rgba(0, 0, 0, 0.5)"</span>;</span><br><span class="line"> </span><br><span class="line">ctx.font = <span class="string">"20px Times New Roman"</span>;</span><br><span class="line">ctx.fillStyle = <span class="string">"Black"</span>;</span><br><span class="line">ctx.fillText(<span class="string">"好好学习"</span>, <span class="number">5</span>, <span class="number">30</span>);</span><br><span class="line">ctx.fillText(<span class="string">"天天向上"</span>, <span class="number">5</span>, <span class="number">60</span>);</span><br></pre></td></tr></table></figure>
<div><br><button id="shadow-btn" onclick="toggle('shadow')">显示</button><br><br><canvas id="shadow" width="150" height="150" style="display:none"></canvas><br></div>


<script>
function wrapper(canvas,btn,func) {
       if(btn.innerText==='显示') {
           canvas.style.display = 'inline-block'
           var ctx = canvas.getContext
           if (ctx) func(ctx.bind(canvas)('2d'))
           btn.innerText = '隐藏'
   }else {
           canvas.style.display = 'none'
           btn.innerText = '显示'
   }
}

function rect(ctx) {
    ctx.fillRect(25,25,100,100);
    ctx.clearRect(45,45,60,60);
    ctx.strokeRect(50,50,50,50);
}

function triangle(ctx) {
    ctx.beginPath();
    ctx.moveTo(75,50);
    ctx.lineTo(100,75);
    ctx.lineTo(100,25);
    ctx.fill();
}

function smile(ctx) {
    ctx.beginPath();
    ctx.arc(75,75,50,0,Math.PI*2,true); // 绘制
    ctx.moveTo(90,90)
    ctx.arc(75,90,15,0,Math.PI,false);   // 口(顺时针)
    ctx.moveTo(65,65);
    ctx.arc(60,65,5,0,Math.PI*2,true);  // 左眼
    ctx.moveTo(95,65);
    ctx.arc(90,65,5,0,Math.PI*2,true);  // 右眼
    ctx.stroke();
}

function curve(ctx) {
    ctx.beginPath();
    ctx.moveTo(75,25);
    ctx.quadraticCurveTo(25,25,25,62.5);
    ctx.quadraticCurveTo(25,100,50,100);
    ctx.quadraticCurveTo(50,120,30,125);
    ctx.quadraticCurveTo(60,120,65,100);
    ctx.quadraticCurveTo(125,100,125,62.5);
    ctx.quadraticCurveTo(125,25,75,25);
    ctx.stroke();
}

function heart(ctx) {
    ctx.beginPath();
    ctx.moveTo(75,40);
    ctx.bezierCurveTo(75,37,70,25,50,25);
    ctx.bezierCurveTo(20,25,20,62.5,20,62.5);
    ctx.bezierCurveTo(20,80,40,102,75,120);
    ctx.bezierCurveTo(110,102,130,80,130,62.5);
    ctx.bezierCurveTo(130,62.5,130,25,100,25);
    ctx.bezierCurveTo(85,25,75,37,75,40);
    ctx.fillStyle='red'
    ctx.fill();
}

function color(ctx) {
    for (var i=0;i<6;i++){
        for (var j=0;j<6;j++){
            ctx.fillStyle = 'rgb(' + Math.floor(255-42.5*i) + ',' +Math.floor(255-42.5*j) + ',0)';
            ctx.fillRect(j*25,i*25,25,25);
        }
    }
}

function transparency(ctx) {
    ctx.fillStyle = '#FD0';
    ctx.fillRect(0,0,75,75);
    ctx.fillStyle = '#6C0';
    ctx.fillRect(75,0,75,75);
    ctx.fillStyle = '#09F';
    ctx.fillRect(0,75,75,75);
    ctx.fillStyle = '#F30';
    ctx.fillRect(75,75,75,75);
    ctx.fillStyle = '#FFF';
    ctx.globalAlpha = 0.2;    
    for (var i=0;i<7;i++){
        ctx.beginPath();
        ctx.arc(75,75,10+10*i,0,Math.PI*2,true);
        ctx.fill();
    }
}

function rgba(ctx){
    ctx.fillStyle = 'rgb(255,221,0)';
    ctx.fillRect(0,0,150,37.5);
    ctx.fillStyle = 'rgb(102,204,0)';
    ctx.fillRect(0,37.5,150,37.5);
    ctx.fillStyle = 'rgb(0,153,255)';
    ctx.fillRect(0,75,150,37.5);
    ctx.fillStyle = 'rgb(255,51,0)';
    ctx.fillRect(0,112.5,150,37.5);

    for (var i=0;i<10;i++){
        ctx.fillStyle = 'rgba(255,255,255,'+(i+1)/10+')';
        for (var j=0;j<4;j++){
            ctx.fillRect(5+i*14,5+j*37.5,14,27.5)
        }
    }
}

function lineWidth(ctx) {
    for (var i = 0; i < 10; i++){
        ctx.lineWidth = 1+i;
        ctx.beginPath();
        ctx.moveTo(5+i*14,5);
        ctx.lineTo(5+i*14,140);
        ctx.stroke();
    }
}

function lineCap(ctx) {
    var lineCap = ['butt','round','square'];

    // 创建路径
    ctx.strokeStyle = '#09f';
    ctx.beginPath();
    ctx.moveTo(10,10);
    ctx.lineTo(140,10);
    ctx.moveTo(10,140);
    ctx.lineTo(140,140);
    ctx.stroke();

    // 画线条
    ctx.strokeStyle = 'black';
    for (var i=0;i<lineCap.length;i++){
        ctx.lineWidth = 15;
        ctx.lineCap = lineCap[i];
        ctx.beginPath();
        ctx.moveTo(25+i*50,10);
        ctx.lineTo(25+i*50,140);
        ctx.stroke();
    }
}

function lineJoin(ctx) {
    var lineJoin = ['round','bevel','miter'];
        ctx.lineWidth = 10;
        for (var i=0;i<lineJoin.length;i++){
        ctx.lineJoin = lineJoin[i];
        ctx.beginPath();
        ctx.moveTo(-5,5+i*40);
        ctx.lineTo(35,45+i*40);
        ctx.lineTo(75,5+i*40);
        ctx.lineTo(115,45+i*40);
        ctx.lineTo(155,5+i*40);
        ctx.stroke();
    }
}

function dash(ctx) {
    if(dash.match) return
    var offset = 0;
    function draw() {
      ctx.clearRect(0,0, 150, 150);
      ctx.setLineDash([4, 2]);
      ctx.lineDashOffset = -offset;
      ctx.strokeRect(10,10, 100, 100);
    }
    function march() {
      offset++;
      if (offset > 16) {
          offset = 0;
      }
      draw();
      setTimeout(march, 20);
    }
    dash.match = march;
    march();
}

function linearGradient(ctx) {
    var lingrad = ctx.createLinearGradient(0,0,0,150);
    lingrad.addColorStop(0, '#00ABEB');
    lingrad.addColorStop(0.5, '#fff');
    lingrad.addColorStop(0.5, '#26C000');
    lingrad.addColorStop(1, '#fff');
    var lingrad2 = ctx.createLinearGradient(0,50,0,95);
    lingrad2.addColorStop(0.5, '#000');
    lingrad2.addColorStop(1, 'rgba(0,0,0,0)');
    ctx.fillStyle = lingrad;
    ctx.strokeStyle = lingrad2;
    ctx.fillRect(10,10,130,130);
    ctx.strokeRect(50,50,50,50);
}

function radialGradient(ctx) {
    // 创建渐变
    var radgrad = ctx.createRadialGradient(45,45,10,52,50,30);
    radgrad.addColorStop(0, '#A7D30C');
    radgrad.addColorStop(0.9, '#019F62');
    radgrad.addColorStop(1, 'rgba(1,159,98,0)');

    var radgrad2 = ctx.createRadialGradient(105,105,20,112,120,50);
    radgrad2.addColorStop(0, '#FF5F98');
    radgrad2.addColorStop(0.75, '#FF0188');
    radgrad2.addColorStop(1, 'rgba(255,1,136,0)');

    var radgrad3 = ctx.createRadialGradient(95,15,15,102,20,40);
    radgrad3.addColorStop(0, '#00C9FF');
    radgrad3.addColorStop(0.8, '#00B5E2');
    radgrad3.addColorStop(1, 'rgba(0,201,255,0)');

    var radgrad4 = ctx.createRadialGradient(0,150,50,0,140,90);
    radgrad4.addColorStop(0, '#F4F201');
    radgrad4.addColorStop(0.8, '#E4C700');
    radgrad4.addColorStop(1, 'rgba(228,199,0,0)');

    // 画图形
    ctx.fillStyle = radgrad4;
    ctx.fillRect(0,0,150,150);
    ctx.fillStyle = radgrad3;
    ctx.fillRect(0,0,150,150);
    ctx.fillStyle = radgrad2;
    ctx.fillRect(0,0,150,150);
    ctx.fillStyle = radgrad;
    ctx.fillRect(0,0,150,150);
}

function pattern(ctx) {
    if(pattern.img) return
    var img = new Image();
    img.src = 'http://img.react.ren/emoji/heart_eyes.png';
    img.onload = function(){
        // 创建图案
        ctx.fillStyle = ctx.createPattern(img,'repeat');;
        ctx.fillRect(0,0,150,150);
        pattern.img = img;
    }
}

function shadow(ctx) {
    ctx.shadowOffsetX = 2;
    ctx.shadowOffsetY = 2;
    ctx.shadowBlur = 2;
    ctx.shadowColor = "rgba(0, 0, 0, 0.5)";

    ctx.font = "20px Times New Roman";
    ctx.fillStyle = "Black";
    ctx.fillText("好好学习", 5, 30);
    ctx.fillText("天天向上", 5, 60);
}

function toggle(name) {
    var canvas = document.getElementById(name), btn = document.getElementById(name+'-btn');
    wrapper(canvas,btn,this[name])
}
</script>

<style>
    button {
        color: #333;
        border: 1px solid #ddd;
        background-color: #f7f7f7;
        font-size: 12px;
        border-radius: 0px;
        padding: 8px 16px;
        height: 32px;
        line-height: 14px;
        user-select: none;
        cursor: pointer;
    }
    button:focus {outline:0;}
    canvas {margin-left:100px;}
</style>



      
    </div>
    <footer class="article-footer">
     <a data-url="https://zju.date/canvas-notes/" data-id="ckej9qfvh006qwpq43ija70h7" class="article-share-link">Share</a>
     
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/why-return-killed/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          服务器返回killed
        
      </div>
    </a>
  
  
    <a href="/install-mongodb-on-linux/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Linux上安装mongodb</div>
    </a>
  
</nav>

  
</article>

</section>

        

      </div>
      <footer id="footer">
  
    <aside id="sidebar" class="outer">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/">Angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CFA/">CFA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dart/">Dart</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Database/">Database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ELK/">ELK</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch/">Elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flutter/">Flutter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/">Mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/">MongoDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/学习笔记/">学习笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小程序/">小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/诗歌/">诗歌</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随笔/">随笔</a></li></ul>
    </div>
  </div>


  
</aside>
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 zju.date
      &nbsp;&nbsp;&nbsp;
      contact: <a href="mailto:zju.date@qq.com">zju.date@qq.com</a>
    </div>
  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
</nav>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });

</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });

</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });

</script>

<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>