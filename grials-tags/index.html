<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>zju.date</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="while&amp;lt;g:while&amp;gt; 案例： 12345&amp;lt;g:set var=&quot;counter&quot; value=&quot;$&amp;#123;0&amp;#125;&quot;/&amp;gt;&amp;lt;g:while test=&quot;$&amp;#123;counter &amp;lt; 5&amp;#125;&quot;&amp;gt;    &amp;lt;g:set var=&quot;counter&quot; value=&quot;$&amp;#123;counter+1&amp;#125;&quot;/&amp;gt;    &amp;l">
<meta name="keywords" content="Java">
<meta property="og:type" content="article">
<meta property="og:title" content="grails标签">
<meta property="og:url" content="https://zju.date/grials-tags/index.html">
<meta property="og:site_name" content=".">
<meta property="og:description" content="while&amp;lt;g:while&amp;gt; 案例： 12345&amp;lt;g:set var=&quot;counter&quot; value=&quot;$&amp;#123;0&amp;#125;&quot;/&amp;gt;&amp;lt;g:while test=&quot;$&amp;#123;counter &amp;lt; 5&amp;#125;&quot;&amp;gt;    &amp;lt;g:set var=&quot;counter&quot; value=&quot;$&amp;#123;counter+1&amp;#125;&quot;/&amp;gt;    &amp;l">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-03-04T02:00:59.095Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="grails标签">
<meta name="twitter:description" content="while&amp;lt;g:while&amp;gt; 案例： 12345&amp;lt;g:set var=&quot;counter&quot; value=&quot;$&amp;#123;0&amp;#125;&quot;/&amp;gt;&amp;lt;g:while test=&quot;$&amp;#123;counter &amp;lt; 5&amp;#125;&quot;&amp;gt;    &amp;lt;g:set var=&quot;counter&quot; value=&quot;$&amp;#123;counter+1&amp;#125;&quot;/&amp;gt;    &amp;l">
  
    <link rel="alternate" href="/atom.xml" title="." type="application/atom+xml">
  
  
    <link rel="icon" href="/css/images/banner.jpg">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">.</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
      </nav>
      <div id="search-form-wrap">
        
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-grials-tags" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/grials-tags/" class="article-date">
  <time datetime="2016-02-29T01:50:43.000Z" itemprop="datePublished">2016-02-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      grails标签
    </h1>
  

      </header>
    



    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="while"><a href="#while" class="headerlink" title="while"></a>while</h2><pre><code>&lt;g:while&gt;
</code></pre><p>案例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:set</span> <span class="attr">var</span>=<span class="string">"counter"</span> <span class="attr">value</span>=<span class="string">"$&#123;0&#125;"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">g:while</span> <span class="attr">test</span>=<span class="string">"$&#123;counter &lt; 5&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">g:set</span> <span class="attr">var</span>=<span class="string">"counter"</span> <span class="attr">value</span>=<span class="string">"$&#123;counter+1&#125;"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>The value is $&#123;counter&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">g:while</span>&gt;</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>输出：</p>
<pre><code>&lt;p&gt;The value is 1&lt;/p&gt;
&lt;p&gt;The value is 2&lt;/p&gt;
&lt;p&gt;The value is 3&lt;/p&gt;
&lt;p&gt;The value is 4&lt;/p&gt;
&lt;p&gt;The value is 5&lt;/p&gt;
</code></pre><h2 id="join"><a href="#join" class="headerlink" title="join"></a>join</h2><pre><code>&lt;g:join&gt;
</code></pre><p>必选属性: <code>in</code>，可选属性：<code>delimiter</code></p>
<p>把集合里面的元素通过指定的符号链接起来。</p>
<pre><code>&lt;g:join in=&quot;[&apos;Apple&apos;, &apos;Banana&apos;, &apos;Carrot&apos;]&quot; /&gt;
</code></pre><p>输出：</p>
<pre><code>Apple, Banana, Carrot 
</code></pre><p>默认的分隔符是<code>,</code>，如果自定义的话使用<code>delimiter</code>属性。</p>
<pre><code>&lt;g:join in=&quot;[&apos;Apple&apos;, &apos;Banana&apos;, &apos;Carrot&apos;]&quot; delimiter=&quot;-&quot; /&gt;
</code></pre><p>输出： </p>
<pre><code>Apple-Banana-Carrot 
</code></pre><h2 id="select"><a href="#select" class="headerlink" title="select"></a>select</h2><p>GSP页面中 g:select 用于创建一个HTML的 selects 标签.<br>下面例子里面用到的g:select 属性有</p>
<ul>
<li>from (必需) - select 的范围</li>
<li>value (可选) - from范围内当前的选择值.</li>
<li>optionKey (可选) -用于指定生成的HTML selects标签中<br>元素的 value 属性</li>
<li>optionValue (可选) - 用于指定生成的HTML selects标签中元素显示内容</li>
</ul>
<p>Html代码       </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:select</span> <span class="attr">optionKey</span>=<span class="string">"queryBy"</span> </span></span><br><span class="line"><span class="tag">			<span class="attr">optionValue</span>=<span class="string">"queryShow"</span> </span></span><br><span class="line"><span class="tag">			<span class="attr">from</span>=<span class="string">"$&#123;[[queryBy:'newsTitle',queryShow:'新闻标题'],[queryBy:'newsAuthor',queryShow:'新闻作者'],[queryBy:'newsContent',queryShow:'新闻内容']]&#125;"</span> </span></span><br><span class="line"><span class="tag">			<span class="attr">name</span>=<span class="string">"queryBy"</span> </span></span><br><span class="line"><span class="tag">			<span class="attr">value</span>=<span class="string">"$&#123;params.queryBy&#125;"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>最后生成的HTML是：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"queryBy"</span> <span class="attr">id</span>=<span class="string">"queryBy"</span> &gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"newsTitle"</span> <span class="attr">selected</span>=<span class="string">"selected"</span> &gt;</span>新闻标题<span class="tag">&lt;/<span class="name">option</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"newsAuthor"</span>&gt;</span>新闻作者<span class="tag">&lt;/<span class="name">option</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"newsContent"</span>&gt;</span>新闻内容<span class="tag">&lt;/<span class="name">option</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>关键是自定义from属性中的映射然后用optionKey、optionValue指定元素value和显示内容，其中<code>selected=&quot;selected&quot;</code> 是根据g:select的value自行判断并生成</p>
<h2 id="checkbox"><a href="#checkbox" class="headerlink" title="checkbox"></a>checkbox</h2><pre><code>&lt;g:checkbox&gt;
</code></pre><p>必选属性: <code>action</code></p>
<p>复选框是表单的一个组件，可以用于代表一个boolean类型的变量。</p>
<p>控制器代码：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestFormController</span> &#123;</span></span><br><span class="line">	<span class="keyword">def</span> displayForm() &#123; &#125;	</span><br><span class="line">	<span class="keyword">def</span> submitForm(String cbfield) &#123;</span><br><span class="line">		render <span class="string">"The value of cbfield is: $&#123;cbfield&#125;"</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>gsp代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"layout"</span> <span class="attr">content</span>=<span class="string">"main"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>CB<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">g:form</span> <span class="attr">action</span>=<span class="string">"submitForm"</span>&gt;</span></span><br><span class="line">		My checkbox: <span class="tag">&lt;<span class="name">g:checkBox</span> <span class="attr">name</span>=<span class="string">"cbfield"</span> <span class="attr">value</span>=<span class="string">"HELLO"</span> /&gt;</span> </span><br><span class="line">		<span class="tag">&lt;<span class="name">br</span>/&gt;</span>		</span><br><span class="line">		<span class="tag">&lt;<span class="name">g:submitButton</span> <span class="attr">name</span>=<span class="string">"Submit"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">g:form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>如果用户选中，cbfield就赋值”HELLO”，否则是null。checkbox特别适合代表领域类里面的boolean类型的属性，在进行增删改查的适合特别有用：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:form</span> <span class="attr">method</span>=<span class="string">"post"</span> &gt;</span></span><br><span class="line">	...</span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fieldcontain"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"available"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">g:message</span> <span class="attr">code</span>=<span class="string">"product.available.label"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">g:checkBox</span> <span class="attr">name</span>=<span class="string">"available"</span> <span class="attr">value</span>=<span class="string">"$&#123;product?.available&#125;"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span>					</span><br><span class="line">	...</span><br><span class="line"><span class="tag">&lt;/<span class="name">g:form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>当product.available为真的时候，复选框被选中了，否则未被选中。</p>
<h2 id="collect"><a href="#collect" class="headerlink" title="collect"></a>collect</h2><pre><code>&lt;g:collect&gt;
</code></pre><p>必选属性: <code>in,expr</code>，可选属性：<code>var</code></p>
<p>collect标签用于遍历一个集合，和each标签非常类似，区别仅在于新增加了一个<code>expr</code>属性</p>
<ul>
<li>in：被遍历的集合</li>
<li>expr：处理集合元素的表达式</li>
</ul>
<h3 id="案例1：遍历集合"><a href="#案例1：遍历集合" class="headerlink" title="案例1：遍历集合"></a>案例1：遍历集合</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:collect</span> <span class="attr">in</span>=<span class="string">"$&#123;['Cat', 'Dog', 'Elephant']&#125;"</span> <span class="attr">expr</span>=<span class="string">"$&#123; "</span><span class="attr">Hello</span> " + <span class="attr">it</span> &#125;" &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>$&#123;it&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">g:collect</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出： </p>
<pre><code>Hello Cat
Hello Dog
Hello Elephant
</code></pre><p>为了增加可读性，可以添加<code>var</code>属性：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:collect</span> <span class="attr">in</span>=<span class="string">"$&#123;['Cat', 'Dog', 'Elephant']&#125;"</span> <span class="attr">expr</span>=<span class="string">"$&#123; "</span><span class="attr">Hello</span> " + <span class="attr">it</span> &#125;" <span class="attr">var</span>=<span class="string">"greeting"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>$&#123;greeting&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">g:collect</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="案例2：遍历数值区间"><a href="#案例2：遍历数值区间" class="headerlink" title="案例2：遍历数值区间"></a>案例2：遍历数值区间</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:collect</span> <span class="attr">in</span>=<span class="string">"$&#123;(5..10)&#125;"</span> <span class="attr">expr</span>=<span class="string">"$&#123;it*2-1&#125;"</span> <span class="attr">var</span>=<span class="string">"number"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>$&#123;number&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">g:collect</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<pre><code>9
11
13
15
17
19
</code></pre><h3 id="案例3：遍历领域类集合"><a href="#案例3：遍历领域类集合" class="headerlink" title="案例3：遍历领域类集合"></a>案例3：遍历领域类集合</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:collect</span> <span class="attr">in</span>=<span class="string">"$&#123;people&#125;"</span> <span class="attr">expr</span>=<span class="string">"$&#123;it.lastName + "</span>, " + <span class="attr">it.firstName</span>&#125;"&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>$&#123;it&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">g:collect</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<pre><code>Doe, John
Doe, Jane
Doe, Jesse
Smith, Rex
Smith, Roy
Johnson, Amy
</code></pre><p>还可以使用<code>var</code>属性指定变量名：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:collect</span> <span class="attr">in</span>=<span class="string">"$&#123;people&#125;"</span> <span class="attr">expr</span>=<span class="string">"$&#123;it.lastName + "</span>, " + <span class="attr">it.firstName</span>&#125;" <span class="attr">var</span>=<span class="string">"fullName"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>$&#123;fullName&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">g:collect</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="each"><a href="#each" class="headerlink" title="each"></a>each</h2><pre><code>&lt;g:each&gt;
</code></pre><p>必选属性: <code>in</code>，可选属性：<code>var,status</code></p>
<h3 id="案例1：遍历集合-1"><a href="#案例1：遍历集合-1" class="headerlink" title="案例1：遍历集合"></a>案例1：遍历集合</h3><p>如果只使用了<code>in</code>属性，可用<code>it</code>指代当前元素：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:each</span> <span class="attr">in</span>=<span class="string">"$&#123;['Cat', 'Dog' ,'Elephant']&#125;"</span>&gt;</span></span><br><span class="line">    Animal: $&#123;it&#125; <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">g:each</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<pre><code>Animal: Cat
Animal: Dog
Animal: Elephant 
</code></pre><p>为了增加可读性，往往使用<code>var</code>属性：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:each</span> <span class="attr">var</span>=<span class="string">"animal"</span> <span class="attr">in</span>=<span class="string">"$&#123;['Cat', 'Dog' ,'Elephant']&#125;"</span>&gt;</span></span><br><span class="line">    Animal: $&#123;animal&#125; <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">g:each</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这和上面代码运行效果是一样的。</p>
<p><code>status</code>表示当前元素的位置：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:each</span> <span class="attr">var</span>=<span class="string">"animal"</span> <span class="attr">in</span>=<span class="string">"$&#123;['Cat', 'Dog' ,'Elephant']&#125;"</span> <span class="attr">status</span>=<span class="string">"counter"</span>&gt;</span></span><br><span class="line">    $&#123;counter&#125;. Animal: $&#123;animal&#125; <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">g:each</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<pre><code>0. Animal: Cat
1. Animal: Dog
2. Animal: Elephant 
</code></pre><p>默认的计数是从0开始，如果你希望是1，可以这么写：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:each</span> <span class="attr">var</span>=<span class="string">"animal"</span> <span class="attr">in</span>=<span class="string">"$&#123;['Cat', 'Dog' ,'Elephant']&#125;"</span> <span class="attr">status</span>=<span class="string">"counter"</span>&gt;</span></span><br><span class="line">    $&#123;counter+1&#125;. Animal: $&#123;animal&#125; <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">g:each</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<pre><code>1. Animal: Cat
2. Animal: Dog
3. Animal: Elephant 
</code></pre><h3 id="案例2：遍历数字区间"><a href="#案例2：遍历数字区间" class="headerlink" title="案例2：遍历数字区间"></a>案例2：遍历数字区间</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:each</span> <span class="attr">var</span>=<span class="string">"number"</span> <span class="attr">in</span>=<span class="string">"$&#123;(5..10)&#125;"</span>&gt;</span></span><br><span class="line">    Number: $&#123;number&#125; <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">g:each</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<pre><code>Number: 5
Number: 6
Number: 7
Number: 8
Number: 9
Number: 10 
</code></pre><h3 id="案例3：遍历领域类集合-1"><a href="#案例3：遍历领域类集合-1" class="headerlink" title="案例3：遍历领域类集合"></a>案例3：遍历领域类集合</h3><p>领域类代码：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span></span><br><span class="line">    String firstName</span><br><span class="line">    String lastName</span><br><span class="line">    <span class="keyword">int</span> age</span><br><span class="line">    <span class="keyword">static</span> constraints = &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>控制器代码：  </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PersonController</span> &#123;</span></span><br><span class="line">    <span class="keyword">def</span> list() &#123;</span><br><span class="line">        [<span class="string">people:</span>Person.list()]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>gsp页面代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">g:each</span> <span class="attr">var</span>=<span class="string">"person"</span> <span class="attr">in</span>=<span class="string">"$&#123;people&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Last Name: $&#123;person.lastName&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>First Name: $&#123;person.firstName&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Age: $&#123;person.age&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">g:each</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="actionSubmit"><a href="#actionSubmit" class="headerlink" title="actionSubmit"></a>actionSubmit</h2><pre><code>&lt;g:actionSubmit&gt;
</code></pre><p>必选属性: <code>action</code></p>
<p>如果为一个表单设置多个提交按钮，想提交给不同的方法进行处理，可以使用这个标签。</p>
<p>控制器代码：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CalcController</span> &#123;</span></span><br><span class="line">	<span class="keyword">def</span> displayForm() &#123;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">def</span> calculateSum(<span class="keyword">int</span> a, <span class="keyword">int</span> b) &#123;</span><br><span class="line">		render (<span class="string">view:</span><span class="string">'result'</span>, <span class="string">model:</span>[<span class="string">answer:</span>a+b])</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">def</span> calculateDiff(<span class="keyword">int</span> a, <span class="keyword">int</span> b) &#123;</span><br><span class="line">		render (<span class="string">view:</span><span class="string">'result'</span>, <span class="string">model:</span>[<span class="string">answer:</span>a-b])</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">def</span> calculateProduct(<span class="keyword">int</span> a, <span class="keyword">int</span> b) &#123;</span><br><span class="line">		render (<span class="string">view:</span><span class="string">'result'</span>, <span class="string">model:</span>[<span class="string">answer:</span>a*b])</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">def</span> calculateQuotient(<span class="keyword">int</span> a, <span class="keyword">int</span> b) &#123;</span><br><span class="line">		render (<span class="string">view:</span><span class="string">'result'</span>, <span class="string">model:</span>[<span class="string">answer:</span>a/b])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>displayForm.gsp 代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"layout"</span> <span class="attr">content</span>=<span class="string">"main"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Calc<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">g:form</span>&gt;</span></span><br><span class="line">		First Number: <span class="tag">&lt;<span class="name">g:textField</span> <span class="attr">name</span>=<span class="string">"a"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">		Second Number: <span class="tag">&lt;<span class="name">g:textField</span> <span class="attr">name</span>=<span class="string">"b"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">g:actionSubmit</span> <span class="attr">value</span>=<span class="string">"Sum"</span> <span class="attr">action</span>=<span class="string">"calculateSum"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">g:actionSubmit</span> <span class="attr">value</span>=<span class="string">"Difference"</span> <span class="attr">action</span>=<span class="string">"calculateDiff"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">g:actionSubmit</span> <span class="attr">value</span>=<span class="string">"Product"</span> <span class="attr">action</span>=<span class="string">"calculateProduct"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">g:actionSubmit</span> <span class="attr">value</span>=<span class="string">"Quotient"</span> <span class="attr">action</span>=<span class="string">"calculateQuotient"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">g:form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>result.gsp 代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"layout"</span> <span class="attr">content</span>=<span class="string">"main"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Calc<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	The answer is $&#123;answer&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="actionSubmitImage"><a href="#actionSubmitImage" class="headerlink" title="actionSubmitImage"></a>actionSubmitImage</h2><p>actionSubmitImage和actionSubmit一样，只不过把button换成了image：</p>
<pre><code>&lt;g:actionSubmitImage&gt;
</code></pre><p>必选属性: <code>action,src</code></p>
<p>控制器代码：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CalcController</span> &#123;</span></span><br><span class="line">	<span class="keyword">def</span> displayForm() &#123;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">def</span> calculateSum(<span class="keyword">int</span> a, <span class="keyword">int</span> b) &#123;</span><br><span class="line">		render (<span class="string">view:</span><span class="string">'result'</span>, <span class="string">model:</span>[<span class="string">answer:</span>a+b])</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">def</span> calculateDiff(<span class="keyword">int</span> a, <span class="keyword">int</span> b) &#123;</span><br><span class="line">		render (<span class="string">view:</span><span class="string">'result'</span>, <span class="string">model:</span>[<span class="string">answer:</span>a-b])</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">def</span> calculateProduct(<span class="keyword">int</span> a, <span class="keyword">int</span> b) &#123;</span><br><span class="line">		render (<span class="string">view:</span><span class="string">'result'</span>, <span class="string">model:</span>[<span class="string">answer:</span>a*b])</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">def</span> calculateQuotient(<span class="keyword">int</span> a, <span class="keyword">int</span> b) &#123;</span><br><span class="line">		render (<span class="string">view:</span><span class="string">'result'</span>, <span class="string">model:</span>[<span class="string">answer:</span>a/b])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>displayForm.gsp </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"layout"</span> <span class="attr">content</span>=<span class="string">"main"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Calc<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">g:form</span>&gt;</span></span><br><span class="line">	First Number: <span class="tag">&lt;<span class="name">g:textField</span> <span class="attr">name</span>=<span class="string">"a"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">	Second Number: <span class="tag">&lt;<span class="name">g:textField</span> <span class="attr">name</span>=<span class="string">"b"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">g:actionSubmitImage</span> <span class="attr">value</span>=<span class="string">"Sum"</span> <span class="attr">action</span>=<span class="string">"calculateSum"</span> </span></span><br><span class="line"><span class="tag">		<span class="attr">src</span>=<span class="string">"$&#123;resource(dir: 'images', file: 'sum.png')&#125;"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">g:actionSubmitImage</span> <span class="attr">value</span>=<span class="string">"Difference"</span> <span class="attr">action</span>=<span class="string">"calculateDiff"</span> </span></span><br><span class="line"><span class="tag">		<span class="attr">src</span>=<span class="string">"$&#123;resource(dir: 'images', file: 'diff.png')&#125;"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">g:actionSubmitImage</span> <span class="attr">value</span>=<span class="string">"Product"</span> <span class="attr">action</span>=<span class="string">"calculateProduct"</span> </span></span><br><span class="line"><span class="tag">		<span class="attr">src</span>=<span class="string">"$&#123;resource(dir: 'images', file: 'product.png')&#125;"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">g:actionSubmitImage</span> <span class="attr">value</span>=<span class="string">"Quotient"</span> <span class="attr">action</span>=<span class="string">"calculateQuotient"</span> </span></span><br><span class="line"><span class="tag">		<span class="attr">src</span>=<span class="string">"$&#123;resource(dir: 'images', file: 'quotient.png')&#125;"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">g:form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>图片存在：<code>Project Source » web-app » images</code> 里面。</p>
<p>result.gsp </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"layout"</span> <span class="attr">content</span>=<span class="string">"main"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Calc<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	The answer is $&#123;answer&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
     <a data-url="https://zju.date/grials-tags/" data-id="ckej9qg0y00giwpq45t8kj2tf" class="article-share-link">Share</a>
     
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/grails-return-json/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Grails-返回json对象
        
      </div>
    </a>
  
  
    <a href="/grails-in-docker/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">在docker中搭建grails运行环境</div>
    </a>
  
</nav>

  
</article>

</section>

        

      </div>
      <footer id="footer">
  
    <aside id="sidebar" class="outer">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/">Angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CFA/">CFA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dart/">Dart</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Database/">Database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ELK/">ELK</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch/">Elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flutter/">Flutter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/">Mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/">MongoDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/学习笔记/">学习笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小程序/">小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/诗歌/">诗歌</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随笔/">随笔</a></li></ul>
    </div>
  </div>


  
</aside>
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 zju.date
      &nbsp;&nbsp;&nbsp;
      contact: <a href="mailto:zju.date@qq.com">zju.date@qq.com</a>
    </div>
  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
</nav>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });

</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });

</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });

</script>

<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>