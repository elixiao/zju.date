<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>zju.date</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="HTTP是一种基于文档的通信协议，可以形象的比喻为书信来往。 寄信——客户端把文档放在信封里，然后发给服务器；回信——服务器收到之后再把响应文档放在信封里，然后发给客户端。">
<meta name="keywords" content="HTTP">
<meta property="og:type" content="article">
<meta property="og:title" content="HTTP协议">
<meta property="og:url" content="https://zju.date/http-notes/index.html">
<meta property="og:site_name" content=".">
<meta property="og:description" content="HTTP是一种基于文档的通信协议，可以形象的比喻为书信来往。 寄信——客户端把文档放在信封里，然后发给服务器；回信——服务器收到之后再把响应文档放在信封里，然后发给客户端。">
<meta property="og:updated_time" content="2017-08-16T02:27:09.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HTTP协议">
<meta name="twitter:description" content="HTTP是一种基于文档的通信协议，可以形象的比喻为书信来往。 寄信——客户端把文档放在信封里，然后发给服务器；回信——服务器收到之后再把响应文档放在信封里，然后发给客户端。">
  
    <link rel="alternate" href="/atom.xml" title="." type="application/atom+xml">
  
  
    <link rel="icon" href="/css/images/banner.jpg">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">.</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
      </nav>
      <div id="search-form-wrap">
        
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-http-notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/http-notes/" class="article-date">
  <time datetime="2016-02-13T05:56:29.000Z" itemprop="datePublished">2016-02-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      HTTP协议
    </h1>
  

      </header>
    



    <div class="article-entry" itemprop="articleBody">
      
        <p>HTTP是一种基于文档的通信协议，可以形象的比喻为书信来往。</p>
<p>寄信——客户端把文档放在信封里，然后发给服务器；<br>回信——服务器收到之后再把响应文档放在信封里，然后发给客户端。<br><a id="more"></a><br>HTTP对信封格式有严格要求，但并不关心信封里面的内容。</p>
<p>http请求（以GET请求为例）：</p>
<pre><code>GET /index.html HTTP/1.1
Host: www.website.com
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.103 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Accept-Encoding: gzip, deflate, sdch
Accept-Language: zh-CN,zh;q=0.8,en;q=0.6
Connection:keep-alive
</code></pre><p>http请求由三部分组成：</p>
<ol>
<li>请求行（request line）：格式为<code>Method URI HTTP-Version</code>，本例当中客户端（即浏览器）使用GET方法获取服务器/index路径所标识的资源。</li>
<li>请求报头（request headers）：一组键值对，就像贴在信封上、写有信息的标签一样。</li>
<li>实体主体（entity-body）：也就是放在信封里的文档，上述案例是一个没有文档的http请求，即信封是空的，GET请求所有信息都在路径和报头里面。</li>
</ol>
<p>http响应：</p>
<pre><code>HTTP/1.1 200 OK
Date:Sat, 13 Feb 2016 06:04:13 GMT
Expires:Sat, 13 Feb 2016 06:03:56 GMT
Server:bfe/1.0.8.13
Set-Cookie:BDSVRTM=0; path=/
Cache-Control:private
Connection:keep-alive
Content-Type:text/html; charset=utf-8
Content-Encoding:gzip
Content-Length:38502

&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;&lt;html lang=&quot;zh&quot; xml:lang=&quot;zh&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
……
</code></pre><p>http响应也分为三个部分：</p>
<ol>
<li>状态行（status line）：格式为<code>HTTP-Version Code Text</code>，用于通知客户端HTTP请求的状态。</li>
<li>相应报头（response headers）：类似于请求报头，也是贴在信封上的标签。</li>
<li>实体主体（entity-body）：放在信封里的文档，这次不是空的。</li>
</ol>
<p>status code总共只有以下5类：</p>
<pre><code>1xx：指示信息--表示请求已接收，继续处理
2xx：成功--表示请求已被成功接收、理解、接受
3xx：重定向--要完成请求必须进行更进一步的操作
4xx：客户端错误--请求有语法错误或请求无法实现
5xx：服务器端错误--服务器未能实现合法的请求
</code></pre><p>常见状态代码、状态描述、说明:</p>
<ul>
<li>200 OK：客户端请求成功</li>
<li>400 Bad Request：客户端请求有语法错误，不能被服务器所理解 </li>
<li>401 Unauthorized：请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用</li>
<li>403 Forbidden：服务器收到请求，但是拒绝提供服务</li>
<li>404 Not Found：请求资源不存在，eg:输入了错误的 URL</li>
<li>500 Internal Server Error：服务器发生不可预期的错误</li>
<li>503 Server Unavailable：服务器当前不能处理客户端的请求，一段时间后，可能恢复正常</li>
</ul>
<p>另外，在响应报头里面有一些重要的标签，例如<code>Content-Type</code>给出实体主体的媒体类型（media type），在本例当中，媒体类型是text/html，这告诉Web浏览器可以把实体主体作为一个HTML文档来呈现。</p>
<p>第一个问题：客户端如何把自己的意图传达给服务器？（或者服务器怎么知道该请求是要获取数据、删除数据还是改写数据呢？）<br>这就是方法信息，常见的HTTP方法是GET、POST、PUT、DELETE、HEAD。</p>
<p>第二个问题：客户端如何告诉服务器对哪些数据进行操作呢？（假如服务器已经知道客户端要删除数据了，它怎么知道客户端要删除的是哪些数据呢？）<br>这就是作用域信息，最常用的是放在uri路径里面，例如在必应上搜索HTTP，其地址为：<code>http://cn.bing.com/search?q=HTTP</code>，不过也可以设计成<code>http://cn.bing.com/search/HTTP</code>。</p>

      
    </div>
    <footer class="article-footer">
     <a data-url="https://zju.date/http-notes/" data-id="cjhn4habq009ivqq33l5dtek9" class="article-share-link">Share</a>
     
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTTP/">HTTP</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/unable-to-write-chinese-punctuation-in-intellj-webstorm/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          intellij和webstorm无法输入中文标点
        
      </div>
    </a>
  
  
    <a href="/ejs-notes/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">EJS学习笔记</div>
    </a>
  
</nav>

  
</article>

</section>

        

      </div>
      <footer id="footer">
  
    <aside id="sidebar" class="outer">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CFA/">CFA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Database/">Database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA/">JAVA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/">Mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/学习笔记/">学习笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/诗歌/">诗歌</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随笔/">随笔</a></li></ul>
    </div>
  </div>


  
</aside>
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 zju.date
      &nbsp;&nbsp;&nbsp;
      contact: <a href="mailto:zju.date@qq.com">zju.date@qq.com</a>
    </div>
  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
</nav>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });

</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });

</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });

</script>

<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>